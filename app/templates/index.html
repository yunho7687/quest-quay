{% extends 'base.html' %} 
{% import "bootstrap_wtf.html" as wtf %}

{% block content %}
{% if next_url %}
<nav aria-label="Post navigation">
  <ul class="pagination">
      <li class="page-item{% if not prev_url %} disabled{% endif %}">
          <a class="page-link" href="{{ prev_url }}">
              <span aria-hidden="true">&larr;</span> Newer posts
          </a>
      </li>
      <li class="page-item{% if not next_url %} disabled{% endif %}">
          <a class="page-link" href="{{ next_url }}">
              Older posts <span aria-hidden="true">&rarr;</span>
          </a>
      </li>
  </ul>
</nav>
{% endif %}


<h1>Hi, {{ current_user.username }}!</h1>

{% with messages = get_flashed_messages() %} {% if messages %}

  {% for message in messages %}
  <div class="alert alert-info  alert-dismissible fade show" role="alert">{{ message }}

    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
  {% endfor %}

{% endif %} {% endwith %}
{% if form %}
<form action="" method="post">
  {{ form.hidden_tag() }}
  {{ wtf.form_field(form.post) }}
  {{ wtf.form_field(form.submit) }}
</form>
{% endif %} 

{% for post in posts %} {% include "components/post.html" %} 
{% endfor %} 
{% endblock %}
